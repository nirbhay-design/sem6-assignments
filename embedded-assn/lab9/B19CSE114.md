---
geometry: margin=2cm
---

## Nirbhay Sharma (B19CSE114)
## DSL - Lab -9

---

## **Task-1**

```c
#include "stm32f4xx.h"
void delay(int dd){
	for (int i = 0;i<dd;i++){
		for (int j = 0;j<300000;j++){
			;
		}
	}
}

main(void)
{

	RCC->AHB1ENR = 0X40; // ENABLING CLOCK FOR PORT G
	GPIOG->MODER = 0X5000000;
	GPIOG->ODR = (1<<13) | (1<<14);
	while (1) {
		GPIOG->ODR = 0X0;
		delay(100);
		GPIOG->ODR = (1<<13) | (1<<14);
		delay(100);
	}

}
```

## **Task-2**

**part-a**

```c
#include "stm32f4xx.h"
void delay(int dd){
	for (int i = 0;i<dd;i++){
		for (int j = 0;j<300000;j++){
			;
		}
	}
}

main(void)
{

	RCC->AHB1ENR = 0X40; // ENABLING CLOCK FOR PORT G
	GPIOG->MODER = 0X1000000;
	GPIOG->ODR = (1<<13);
	while (1) {
		GPIOG->ODR = 0X0;
		delay(100);
		GPIOG->ODR = (1<<13);
		delay(100);
	}

}
```
**part-b**

```c
#include "stm32f4xx.h"
void delay(int dd){
	for (int i = 0;i<dd;i++){
		for (int j = 0;j<300000;j++){
			;
		}
	}
}

main(void)
{

	RCC->AHB1ENR = 0X40; // ENABLING CLOCK FOR PORT G
	GPIOG->MODER = 0X4000000;
	GPIOG->ODR = (1<<14);
	while (1) {
		GPIOG->ODR = 0X0;
		delay(100);
		GPIOG->ODR = (1<<14);
		delay(100);
	}

}

```

**part-c**
```c
#include "stm32f4xx.h"
void delay(int dd){
	for (int i = 0;i<dd;i++){
		for (int j = 0;j<300000;j++){
			;
		}
	}
}

main(void)
{

	RCC->AHB1ENR = 0X40; // ENABLING CLOCK FOR PORT G
	GPIOG->MODER = 0X5000000;
	int led13=1,led14=0;
	GPIOG->ODR = (1<<13);
	led13--;led14++;
	while (1) {
		if (led14 == 1) {
			GPIOG->ODR = (1<<14);
			led14--;led13++;
			delay(100);
			continue;
		}
		if (led13 == 1) {
			GPIOG->ODR = (1<<13);
			led13--;led14++;
			delay(100);
			continue;
		}
	}

}

```

## **Task-3**

```c
#include "stm32f4xx.h"
void delay(int dd){
	for (int i = 0;i<dd;i++){
		for (int j = 0;j<300000;j++){
			;
		}
	}
}

main(void)
{

	RCC->AHB1ENR = 0X41; // ENABLING CLOCK FOR PORT G & A
	GPIOG->MODER = 0X1000000;
	GPIOA->MODER = 0x0;
	
	while (1) {
		if (GPIOA->IDR & 0X01) {
			GPIOG->ODR = (1<<13);
			while (GPIOA->IDR & 0X01) {
				;
			}
		}
		GPIOA->ODR = 0X0;
		
	}

}
```

## **Task-4**

```c
#include "stm32f4xx.h"
void delay(int dd){
	for (int i = 0;i<dd;i++){
		for (int j = 0;j<300000;j++){
			;
		}
	}
}

main(void)
{

	RCC->AHB1ENR = 0X41; // ENABLING CLOCK FOR PORT G & A
	GPIOG->MODER = 0X1000000;
	GPIOA->MODER = 0x0;
	
	while (1) {
		if (GPIOA->IDR & 0X01) {
			GPIOG->ODR = (1<<13);
			while (GPIOA->IDR & 0X01) {
				;
			}
		}
		GPIOA->ODR = 0X0;
		
	}

}

```

## **Task-5**

```c
#include "stm32f4xx.h"
void delay(int dd){
	for (int i = 0;i<dd;i++){
		for (int j = 0;j<300000;j++){
			;
		}
	}
}

main(void)
{

	RCC->AHB1ENR = 0X41; // ENABLING CLOCK FOR PORT G & A
	GPIOG->MODER = 0X1000000;
	GPIOA->MODER = 0x0;
	int againon = 0;
	while (1) {
		if (GPIOA->IDR & 0X01) {
			againon = 1-againon;
			if (againon == 1){
				GPIOG->ODR = (1<<13);
			} else {
				GPIOG->ODR = 0x0;
			}
			while (GPIOA->IDR & 0X01);
		}
	}

}

```

## **Task-6**
```ino
void setup() {
  // put your setup code here, to run once:
  
  Serial.begin(9600);
}

void loop() {
  // put your main code here, to run repeatedly:
  int aread1 = analogRead(A1);
  delay(1);
  int aread2 = analogRead(A2);

  if (aread2 > aread1){
    Serial.println(aread2);
  } else {
    Serial.println("printing Nothing");
  }
}
```

---


